(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{367:function(s,a,t){"use strict";t.r(a);var e=t(7),l=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("该操作流程采用 Ubuntu 20.04 操作系统，Debain 如无 sudo 命令则可以去掉即可")])]),s._v(" "),a("h2",{attrs:{id:"查看虚拟内存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看虚拟内存"}},[s._v("#")]),s._v(" 查看虚拟内存")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("\n")])])]),a("h2",{attrs:{id:"创建虚拟内存配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建虚拟内存配置文件"}},[s._v("#")]),s._v(" 创建虚拟内存配置文件")]),s._v(" "),a("p",[s._v("新建文件夹")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /swap\n")])])]),a("p",[s._v("进入文件夹")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /swap\n")])])]),a("p",[s._v("创建虚拟文件，bs 为块的大小，count 创建多少个块")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/dev/zero "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("of")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("swapfile "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("bs")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("1M "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v("\n")])])]),a("p",[s._v("修改权限")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" 0600 swapfile\n")])])]),a("p",[s._v("把生成的文件转换成 Swap 文件")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkswap")]),s._v(" swapfile\n")])])]),a("p",[s._v("激活文件")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("swapon")]),s._v(" swapfile\n")])])]),a("h2",{attrs:{id:"再次查看虚拟内存-执行命令可以看到新增了2g"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#再次查看虚拟内存-执行命令可以看到新增了2g"}},[s._v("#")]),s._v(" 再次查看虚拟内存（执行命令可以看到新增了2G）")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("free")]),s._v("\n")])])]),a("h2",{attrs:{id:"如果需要释放的话-执行命令后-删除创建的swap目录即可"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果需要释放的话-执行命令后-删除创建的swap目录即可"}},[s._v("#")]),s._v(" 如果需要释放的话（执行命令后，删除创建的swap目录即可）")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" swapoff swapfile\n")])])]),a("h2",{attrs:{id:"如果需要开机自动使用该虚拟内存的话-则需要加入到启动脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果需要开机自动使用该虚拟内存的话-则需要加入到启动脚本"}},[s._v("#")]),s._v(" 如果需要开机自动使用该虚拟内存的话，则需要加入到启动脚本")]),s._v(" "),a("p",[s._v("打开 /etc/fstab 文件")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/fstab\n")])])]),a("p",[s._v("此时开的虚拟内存会在开机后消失,如果永久保持下去,在 /etc/fstab 文件尾添加一下信息:")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("/swap/swapfile swap swap defaults "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=l.exports}}]);